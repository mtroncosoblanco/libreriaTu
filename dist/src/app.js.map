{"version":3,"sources":["../../src/app.ts"],"sourcesContent":["import express, {Response, Request} from 'express'\r\nimport authRouter from './routes/auth.routes'\r\nimport userRouter from './routes/user.routes'\r\nimport offerRouter from './routes/offer.routes'\r\nimport categoryRouter from './routes/category.routes'\r\n\r\nimport rateLimit from 'express-rate-limit'\r\nimport helmet from 'helmet'\r\nimport compression from 'compression'\r\nimport cookieParser  from 'cookie-parser'\r\nimport cors  from 'cors'\r\nimport morgan from 'morgan'\r\n\r\nconst app = express()\r\n\r\n/* app.use(async (req, res, next) => {\r\n    await libsql.sync()\r\n    next()\r\n  }) */\r\n\r\n\r\napp.use(cookieParser())\r\n//todo limitar cors\r\n//cambiar la url cuando deploy\r\napp.use(cors({\r\n    origin: ['http://localhost:5173', 'https://empleatetufront.onrender.com'],\r\n    methods: ['GET', 'POST', 'PUT', 'DELETE'],\r\n    credentials: true,\r\n    allowedHeaders: ['Content-Type', 'Authorization']\r\n}));\r\n\r\napp.use(express.json())\r\napp.use(helmet())\r\napp.use(compression())\r\napp.use(morgan('tiny'))\r\nconst limiter = rateLimit({\r\n    max: 1000,\r\n    windowMs: 1000 * 15 * 60 // 15 minutos\r\n})\r\napp.use(limiter)\r\n\r\napp.use('/api/auth',authRouter)\r\napp.use('/api/users',userRouter)\r\napp.use('/api/offers', offerRouter)\r\napp.use('/api/categories', categoryRouter)\r\n\r\napp.get('/', (req:Request, res:Response)=>{\r\n    res.send('Bienvenido al backend (api rest)')\r\n})\r\n\r\nexport default app"],"names":["app","express","use","cookieParser","cors","origin","methods","credentials","allowedHeaders","json","helmet","compression","morgan","limiter","rateLimit","max","windowMs","authRouter","userRouter","offerRouter","categoryRouter","get","req","res","send"],"mappings":";;;;+BAkDA;;;eAAA;;;gEAlDyC;mEAClB;mEACA;oEACC;uEACG;yEAEL;+DACH;oEACK;qEACE;6DACR;+DACC;;;;;;AAEnB,MAAMA,MAAMC,IAAAA,gBAAO;AAQnBD,IAAIE,GAAG,CAACC,IAAAA,qBAAY;AAGpBH,IAAIE,GAAG,CAACE,IAAAA,aAAI,EAAC;IACTC,QAAQ;QAAC;QAAyB;KAAuC;IACzEC,SAAS;QAAC;QAAO;QAAQ;QAAO;KAAS;IACzCC,aAAa;IACbC,gBAAgB;QAAC;QAAgB;KAAgB;AACrD;AAEAR,IAAIE,GAAG,CAACD,gBAAO,CAACQ,IAAI;AACpBT,IAAIE,GAAG,CAACQ,IAAAA,eAAM;AACdV,IAAIE,GAAG,CAACS,IAAAA,oBAAW;AACnBX,IAAIE,GAAG,CAACU,IAAAA,eAAM,EAAC;AACf,MAAMC,UAAUC,IAAAA,yBAAS,EAAC;IACtBC,KAAK;IACLC,UAAU,OAAO,KAAK;AAC1B;AACAhB,IAAIE,GAAG,CAACW;AAERb,IAAIE,GAAG,CAAC,aAAYe,mBAAU;AAC9BjB,IAAIE,GAAG,CAAC,cAAagB,mBAAU;AAC/BlB,IAAIE,GAAG,CAAC,eAAeiB,oBAAW;AAClCnB,IAAIE,GAAG,CAAC,mBAAmBkB,uBAAc;AAEzCpB,IAAIqB,GAAG,CAAC,KAAK,CAACC,KAAaC;IACvBA,IAAIC,IAAI,CAAC;AACb;MAEA,WAAexB"}