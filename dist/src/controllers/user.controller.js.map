{"version":3,"sources":["../../../src/controllers/user.controller.ts"],"sourcesContent":["import { HttpException } from \"../exceptions/httpException\";\r\nimport { UserService } from \"../services/user.service\";\r\nimport {Response, Request, NextFunction} from 'express'\r\n\r\nexport class UserController{\r\n    static async profile(req:Request, res:Response, next:NextFunction){\r\n        try{\r\n            const  email = req.user?.email\r\n            if(!email) throw new HttpException(404, 'Email not found')\r\n            const user = await UserService.getByEmail(email)\r\n            res.status(200).json(user)\r\n        }catch(error){\r\n            next(error)\r\n        }\r\n    }\r\n\r\n    static async getAll(req:Request, res:Response, next: NextFunction){\r\n        try{\r\n            const user = await UserService.getAll()\r\n            res.status(200).json(user)\r\n        }catch(error){\r\n            next(error)\r\n        }\r\n    }\r\n}\r\n"],"names":["UserController","profile","req","res","next","email","user","HttpException","UserService","getByEmail","status","json","error","getAll"],"mappings":";;;;+BAIaA;;;eAAAA;;;+BAJiB;6BACF;AAGrB,IAAA,AAAMA,iBAAN,MAAMA;IACT,aAAaC,QAAQC,GAAW,EAAEC,GAAY,EAAEC,IAAiB,EAAC;QAC9D,IAAG;YACC,MAAOC,QAAQH,IAAII,IAAI,EAAED;YACzB,IAAG,CAACA,OAAO,MAAM,IAAIE,4BAAa,CAAC,KAAK;YACxC,MAAMD,OAAO,MAAME,wBAAW,CAACC,UAAU,CAACJ;YAC1CF,IAAIO,MAAM,CAAC,KAAKC,IAAI,CAACL;QACzB,EAAC,OAAMM,OAAM;YACTR,KAAKQ;QACT;IACJ;IAEA,aAAaC,OAAOX,GAAW,EAAEC,GAAY,EAAEC,IAAkB,EAAC;QAC9D,IAAG;YACC,MAAME,OAAO,MAAME,wBAAW,CAACK,MAAM;YACrCV,IAAIO,MAAM,CAAC,KAAKC,IAAI,CAACL;QACzB,EAAC,OAAMM,OAAM;YACTR,KAAKQ;QACT;IACJ;AACJ"}