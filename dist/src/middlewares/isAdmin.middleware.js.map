{"version":3,"sources":["../../../src/middlewares/isAdmin.middleware.ts"],"sourcesContent":["import {Response, Request, NextFunction} from 'express'\r\n\r\nexport const isAdmin = (req:Request, res:Response, next:NextFunction):any => {\r\n    const role = req.user?.role\r\n    try{\r\n        if(role === 'admin'){\r\n            next()\r\n        }else{\r\n            res.status(401).json({error:'Access denied, no admin'})\r\n        }\r\n    }catch(error){\r\n        res.status(401).json({error:'Invalid token'})\r\n    }\r\n}"],"names":["isAdmin","req","res","next","role","user","status","json","error"],"mappings":";;;;+BAEaA;;;eAAAA;;;AAAN,MAAMA,UAAU,CAACC,KAAaC,KAAcC;IAC/C,MAAMC,OAAOH,IAAII,IAAI,EAAED;IACvB,IAAG;QACC,IAAGA,SAAS,SAAQ;YAChBD;QACJ,OAAK;YACDD,IAAII,MAAM,CAAC,KAAKC,IAAI,CAAC;gBAACC,OAAM;YAAyB;QACzD;IACJ,EAAC,OAAMA,OAAM;QACTN,IAAII,MAAM,CAAC,KAAKC,IAAI,CAAC;YAACC,OAAM;QAAe;IAC/C;AACJ"}